select * from users;
delete from users where id=19;
select * from users;
drop table user_permissions ;
drop table permissions ;
\d 
\d+ privileges
\d+ employee_privileges
\d+ users
alter table users rename to admins;
\d+ admins
select * from admins ;
select * from admins ;
alter table admins drop column name;
select * from admins ;
\d+ admins
drop table admins ;
\d+ admins
\d+ admins
\d+ admins
\d+ privileges
\d+ employee_privileges
\d+ employee_positions
\d+ positions
\d+ divisions
\d+ enterprises
\d+ employees
select * from admins;
select * from admins;
select * from admins;
select * from privileges;
select * from privileges;
select * from privileges;
select * from employee_privileges;
select * from employees where id = 1;
selec * from employees where phone_number = '+99165678976';
select * from employees where phone_number = '+99165678976';
select * from employee_privileges;
select * from employees order by created_at desc;
select * from admins;
\q
\c millihasap 
select * from admins;
select * from employees order by created_at desc;
SELECT "employees"."id","employees"."created_at","employees"."updated_at","employees"."deleted_at","employees"."firstname","employees"."lastname","employees"."middlename","employees"."image","employees"."phone_number","employees"."password","employees"."email" FROM "employees" LEFT JOIN employee_positions ON employee_positions.employee_id = employees.id LEFT JOIN positions ON positions.id = employee_positions.position_id LEFT JOIN divisions on divisions.id = positions.division_id LEFT JOIN enterprises on enterprises.id = divisions.enterprise_id LEFT JOIN education_certificates on employees.id = education_certificates.employee_id WHERE (enterprises.id = 3 AND employees.id = 42) AND "employees"."deleted_at" IS NULL ORDER BY "employees"."id" LIMIT 1;
\q
\c millihasap 
select * from privileges;
alter table privileges drop column name , group_name;
alter table privileges drop column name;
alter table privileges drop column group_name;
select * from privileges;
\d+ employee_privileges
\d+ privileges
select * from privileges;
select * from employee_privileges;
\q
\c millihasap 
\d+ privileges
select * from privileges;
select * from employee_privileges;
select id from employees;
select * from employee_privileges;
\d+ employee_privileges
select * from employee_privileges;
select * from employee_privileges;
select * from employee_privileges;
select * from positions;
select * from employees;
select * from employees;
select * from employees;
select * from admins;
select * from employees;
select * from employee_privileges;
update employees set phone_number = '+99363786519' where id = 42;
select * from employee_privileges;
select * from employees;
select * from admins;
\q
\c millihasap 
select * from employee_privileges;
select * from employees;
SELECT privileges.number,enterprises.id FROM "employees" INNER JOIN employee_privileges ON employee_privileges.employee_id = employees.id INNER JOIN privileges ON privileges.id = employee_privileges.privilege_id INNER JOIN employee_positions ON employee_positions.employee_id = employees.id INNER JOIN positions ON positions.id = employee_positions.position_id INNER JOIN divisions ON divisions.id = positions.division_id INNER JOIN enterprises ON enterprises.id = divisions.enterprise_id WHERE employees.deleted_at IS NULL AND employee_privileges.deleted_at IS NULL AND privileges.deleted_at IS NULL AND employee_positions.deleted_at IS NULL AND positions.deleted_at IS NULL AND divisions.deleted_at IS NULL AND enterprises.deleted_at IS NULL;
SELECT privileges.number,enterprises.id FROM "employees" INNER JOIN employee_privileges ON employee_privileges.employee_id = employees.id INNER JOIN privileges ON privileges.id = employee_privileges.privilege_id INNER JOIN employee_positions ON employee_positions.employee_id = employees.id INNER JOIN positions ON positions.id = employee_positions.position_id INNER JOIN divisions ON divisions.id = positions.division_id INNER JOIN enterprises ON enterprises.id = divisions.enterprise_id WHERE employees.deleted_at IS NULL AND employees.id = 42 AND employee_privileges.deleted_at IS NULL AND privileges.deleted_at IS NULL AND employee_positions.deleted_at IS NULL AND positions.deleted_at IS NULL AND divisions.deleted_at IS NULL AND enterprises.deleted_at IS NULL;
select * from positions;
\q
\c millihasap 
select * from employees order by id desc;
select * from employees order by id desc;
select * from employee_taxes;
alter table employee_taxes drop column name;
select * from employee_taxes;
select * from employee_taxes;
\q
\c millihasap 
select * from employee_taxes;
update employee_taxes set name = 'Girdeyji salgyt' where id = 6;
select * from employee_taxes;
update employee_taxes set name = 'Pensiya atiyac' where id = 1;
update employee_taxes set name = 'Medisina' where id = 4;
update employee_taxes set name = 'Girdeyji salgyt' where id = 5;
update employee_taxes set name = 'Pensiya atiyac' where id = 9;
update employee_taxes set name = 'Girdeyji salgyt' where id = 8;
update employee_taxes set name = 'Girdeyji salgyt' where id = 10;
update employee_taxes set name = 'Saher abadanlashdyrmak' where id = 11;
update employee_taxes set name = 'Pensiya borjy' where id = 12;
select * from employee_taxes;
select employee_id,name from employee_taxes;
\q
\c isleg 
\c millihasap 
\d+ employee_taxes
select * from employee_taxes;
select * from employee_taxes where employee_id=1;
select * from employee_taxes;
select * from positions;
\q
\c millihasap 
\d+ employee_positions
\d+ employee_positions
select * from employee_positions;
update employee_positions set rate = 1;
select * from employee_positions;
\d+ employee_positions
select * from employee_positions;
\q
\d mi
\c millihasap 
select * from privileges;
select * from employee_privileges;
\q
\password
\q
\c millihasap 
\q 
\q
\c millihasap 
\d+ employee_positions
select * from employee_positions;
update employee_positions set is_main = fale;
update employee_positions set is_main = false;
select * from employee_positions;
\q
\c millihasap 
\d+ enterprises
\d+ enterprises
\d+ holidays
\d+ employee_positions
\q
\c millihasap 
\d+ employee_relatives
alter table employee_relatives drop column father_firstname ;
alter table employee_relatives drop column father_lastname ;
alter table employee_relatives drop column father_middlename ;
\d+ employee_relatives
\d+ employee_relatives
\q
\c millihasap 
\d+ employee_relatives
\q
\c millihasap 
\d+ employee_relatives
\q
\c millihasap 
select * from employee_relatives;
\d+ employees
select * from employees;
\d+ passports
\d+ employee_relatives
\d+ employees
\d+ passports
\d+ employee_relatives
\q
\c isleg 
\d
select * from customers;
\q
\c millihasap 
select * from employee_relatives;
select * from employee_relatives;
\d+ employee_relatives
select * from employee_relatives where employee_id = 1;
\q
\c millihasap 
\c isleg 
\d+ products;
\d+ brends
\q
\c millihasap 
\d+ employee_relatives
select * from employee_relatives where employee_id = 1;
\d+ employee_positions
alter table employee_positions drop column is_main;
\d+ employee_positions
\d+ employees
select * from employees where id = 1;
\q
\c millihasap 
select * from employees;
SELECT "employees"."id","employees"."created_at","employees"."updated_at","employees"."deleted_at","employees"."firstname","employees"."lastname","employees"."middlename","employees"."image","employees"."phone_number","employees"."password","employees"."email" FROM "employees" LEFT JOIN employee_positions ON employee_positions.employee_id = employees.id AND employee_positions.end_date IS NULL LEFT JOIN positions ON positions.id = employee_positions.position_id LEFT JOIN passports ON passports.employee_id = employees.id LEFT JOIN divisions on divisions.id = positions.division_id LEFT JOIN enterprises on enterprises.id = divisions.enterprise_id WHERE enterprises.id = 3 AND "employees"."deleted_at" IS NULL LIMIT 10;
SELECT "employees"."id","employees"."created_at","employees"."updated_at","employees"."deleted_at","employees"."firstname","employees"."lastname","employees"."middlename","employees"."image","employees"."phone_number","employees"."password","employees"."email" FROM "employees" LEFT JOIN employee_positions ON employee_positions.employee_id = employees.id AND employee_positions.end_date IS NULL LEFT JOIN positions ON positions.id = employee_positions.position_id LEFT JOIN passports ON passports.employee_id = employees.id LEFT JOIN divisions on divisions.id = positions.division_id LEFT JOIN enterprises on enterprises.id = divisions.enterprise_id WHERE enterprises.id = 3 AND "employees"."deleted_at" IS NULL;
SELECT "employees"."id","employees"."created_at","employees"."updated_at","employees"."deleted_at","employees"."firstname","employees"."lastname","employees"."middlename","employees"."image","employees"."phone_number","employees"."password","employees"."email" FROM "employees" LEFT JOIN employee_positions ON employee_positions.employee_id = employees.id AND employee_positions.end_date IS NULL LEFT JOIN positions ON positions.id = employee_positions.position_id LEFT JOIN passports ON passports.employee_id = employees.id LEFT JOIN divisions on divisions.id = positions.division_id LEFT JOIN enterprises on enterprises.id = divisions.enterprise_id WHERE enterprises.id = 3 AND "employees"."deleted_at" IS NULL order by employees.id;
select * from reports;
\q
\c millihasap 
\d+ enterprise_taxes
select * from reports;
select * from enterprise_reports;
select count(*) from report;
select count(*) from reports;
\q
\c millihasap 
\d+ privileges
\q
\c millihasap 
sudo -su postgres pg_dump -d millihasap > /Users/allanurbayramgeldiyev/Documents/go/src/github.com/allanurbayramgeldiyev209/MH-data/MH_database_14_01_2023.sql;
\q
\c millihasap 
\d+ admins
select * from enterprises;
select id from enterprises;
select employee_id from birth_certificates;
select * from birth_certificates;
delete from birth_certificates where id=20;
select * from birth_certificates;
select * from birth_certificates;
select * from birth_certificates;
\d+ enterprises
\d+ divisions
select * from divisions;
\d+ education_certificates
select * from education_certificates;
\d+ employee_positions
\d+ employee_relatives
select * from employee_surcharges;
\d+ employee_taxes
select * from employee_taxes;
\d+ enterprise_taxes
\d+ enterprises
\d+ extra_works
select * from extra_works;
\d+ military_ids
\d+ passports
\d+ position_salaries
\d+ positions
\d+ employee_privileges
select * from reports;
\d+ work_record_books
\d+ work_record_employees
\q
\c millihasap 
select image from employees;
select image from employees;
select image from employees;
select id,image from employees;
select id,image from employees;
\q
\c isleg
select * from translation_category ;
\d+ products
alter table products alter column brend_id = null;
alter table products alter column brend_id set null;
alter table products alter column brend_id drop not null;
\d+ products
\w
\q
\c millihasap 
select * from employee_positions;
select * from employee_positions where employee_id=2;;
select * from employee_positions where employee_id=2;;
\c isleg
select * from translation_product ;
\d+ products
select * from products ;
select * from products where amount = 100;
\c millihasap 
select * from report;
select * from reports;
select * from report_publishes;
select * from report_publishes;
delete from report_publishes ;
select * from report_publishes;
select * from employees;
\d+ report_publishes
select * from reports;
select * from report_publishes;
select * from report_publishes;
select * from reports;
select * from report_publishes;
select * from report_publishes;
delete from report_publishes ;
select * from report_publishes;
select * from report_publishes;
delete from report_publishes ;
select * from report_publishes;
q
\q
\c isleg
select * from products where brend_id = null;
select * from products ;
select * from translation_category ;
\q
\c millihasap 
select * from holidays;
\q
\c isleg
alter table main_image rename column small to image;
alter table main_image drop column medium;;
alter table main_image drop column large;
\d+ main_image
\d+ images
alter table images rename column small to image;
alter table images drop column  large;;
\d+ images
select * from translation_category ;
select * from images 
select * from translation_category ;
select * from main_image ;
select * from translation_category ;
select * from products ;
select * from products where amount <0 ;;
update products set amount = 100 where amount < 0;
select * from products where amount <0 ;;
select * from brends ;
select * from brends ;
select * from categories ;
select * from products ;
select * from shops ;
select * from products ;
select * from categories ;
\q
\c millihasap 
select * from holidays;
insert into holidays (name,date,created_at,updated_at) values ('Taze yyl','2022-09-27 05:00:00+05',now(),now());
select * from holidays;
update holidays set date = '2023-01-02 05:00:00+05' where id=5;
select * from holidays;
update holidays set date = '2023-01-02 00:00:00+05' where id=5;
select * from holidays;
\q
\c millihasap 
\d+ holidays
\q
\c millihasap 
select * from holidays;
insert into holidays (name,date,created_at,updated_at) values ('Bitaraplyk bayramcylygy','2023-12-31 00:00:00+05',now(),now());
select * from holidays;
select * from reports;
\q
\c millihasap 
select * from employee_relatives where employee_id=1 order by updated_at asc;
select * from birth_certificates;
select birthday from birth_certificates;
\q
\c isleg
select * from products ;
\q
\c millihasap 
select * from birth_certificates;
select date from birth_certificates;
select date birthday birth_certificates;
select  birthday from birth_certificates;
\d+ birth_certificates
select * from employee_positions;
\d+ birth_certificates
alter table birth_certificates alter column birthday type date;
\d+ birth_certificates
select * from birth_certificates;
select birthday from birth_certificates;
select employee_id,birthday from birth_certificates;
select employee_id,birthday from birth_certificates;
select id from employees;
select * from education_certificates;
select given_at from education_certificates;
\d+ education_certificates
alter table education_certificates alter column given_at type date;
\d+ education_certificates
\d+ education_certificates
select employee_id from birth_certificates;
select * from birth_certificates;
select * from birth_certificates;
\q
\c isleg
\d+ product
\d+ products
\d+ main_image
alter table products add column main_image varchar(100) not null;
\d+ products
\d+ products
\d+ main_image
alter table main_image drop constraint products_main_image;
\d+ main_image
\d+ products
drop table main_image ;
alter table products add column main_image varchar(100) not null;
alter table products add column main_image varchar(100);
\d+ products
select * from products ;
alter table products alter column main_image set not null;
\q
\c millihasap 
select * from holidays;
alter table holidays alter column date type date;
select * from holidays;
select id,employee_id from passports;
select id from employees;
select gender from passports;
select gender from passports;
select * from passports;
\d+ passports
alter table passports alter column birthday date;
alter table passports alter column birthday type date;
alter table passports alter column given_at type date;
alter table passports alter column expires_at type date;
\d+ report_publishes;
alter table report_publishes alter column publish_date type date;
select * from slbes;
alter table slbes alter column given_at type date;
select * from work_permits;
select * from holidays;
alter table holidays alter column date type timestamptz;
select * from holidays;
select date from holidays;
\d+ birth_certificates
alter table birth_certificates alter column birthday type timestamptz;
select * from birth_certificates;
select birthday from birth_certificates;
\d+ education_certificates
alter table education_certificates alter column given_at type timestamptz;
\d+ education_certificates
select * from education_certificates;
\d+ passports
alter table passports alter column birthday type timestamptz;
alter table passports alter column given_at type timestamptz;
alter table passports alter column expires_at type timestamptz;
alter table passports drop column given_date;
alter table passports drop column abode;
alter table passports drop column issuring_state;
alter table passports drop column issue_date;
\d+ passports
\d+ report_publishes
alter table report_publishes alter column publish_date type timestamptz;
\d+ slbes
alter table slbes alter column given_at type timestamptz;
\q
\c isleg
\df
\q
\d
\l
drop database isleg;
create database isleg;
\c isleg
select * from products ;
\q
\c isleg
select * from categories ;
select * from products ;
select * from category_product ;
\q
\c isleg
select * from translation_header ;
\q
\c isleg
select id from products ;
\q
\c millihasap 
select * from holidays;
\w
\q
\c isleg
\d+ products
select * from products ;
select * from brends ;
select * from products ;
select * from category_product ;
\d+ products
select price from products ;
select price from products ;
select * from translation_order_page ;
\q
\c millihasap 
select * from employee_relatives;
select * from employee_relatives;
select * from privileges;
select * from employee_privileges;
select * from employee_privileges;
\d+ employee_positions
select * from employee_positions;
select is_part_time from employee_positions;
update employee_positions set is_part_time=true;
select is_part_time from employee_positions;
select id,is_part_time from employee_positions;
select id,employee_id,is_part_time from employee_positions;
select id,employee_id,is_part_time from employee_positions;
select id,employee_id,is_part_time from employee_positions order by employee_id;
select id,employee_id,is_part_time from employee_positions order by employee_id;
update employee_positions set is_part_time=false where id in (2,3,4,5,6,7,8,9,10,11,12,13,14,15,16);
select id,employee_id,is_part_time from employee_positions order by employee_id;
select id,employee_id,is_part_time from employee_positions order by employee_id;
\q
\c isleg
\s postgres
